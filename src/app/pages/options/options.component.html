<div
  [@simpleFadeAnimation]="'fadeIn'"
  [ngStyle]="{
    background: 'url(/assets/32139955053_237df2fcb3_3k.jpg) no-repeat center center fixed',
    backgroundSize: 'cover',
    height: 'calc(100% - 80px)',
    paddingTop:'80px',
    overflowY: 'scroll'
  }">
  <mat-card style="width: 500px; margin: 0 auto 20px auto">
    <mat-card-header>
      <mat-card-title>Preferences</mat-card-title>
    </mat-card-header>
    <mat-divider [inset]="true"></mat-divider>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <mat-slide-toggle
            [checked]="preferences?.closeWindowOnSave"
            [color]="'primary'"
            [labelPosition]="'before'"
            (change)="setCloseWindowOnSave($event)">
            <div style="width: 460px">
              <div style="">Close windows on drop</div>
              <div style="font-size: 14px; color: grey">Close the original window/tab after dragging to a different region</div>
            </div>
          </mat-slide-toggle>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card style="width: 500px; margin: 0 auto 20px auto">
    <mat-card-header>
      <mat-card-title>Sync Options</mat-card-title>
    </mat-card-header>
    <mat-divider [inset]="true"></mat-divider>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <mat-slide-toggle
            style=""
            [checked]="preferences?.syncSavedWindows"
            [color]="'primary'"
            [labelPosition]="'before'"
            (change)="setSyncSavedWindows($event)">
            <div style="width: 460px">
              <div style="">Enable sync</div>
              <div style="font-size: 14px; color: grey">Synchronize saved windows between devices</div>
            </div>
          </mat-slide-toggle>
        </mat-list-item>
      </mat-list>
      <mat-list *ngIf="preferences?.syncSavedWindows">
        <ng-container>
          <mat-divider [inset]="true"></mat-divider>
          <mat-list-item>
<!--            <mat-icon style="font-size: 18px; line-height: 14px; height: 14px">help_outline</mat-icon>-->
            <div mat-line style="font-size: 14px; color: grey; margin-bottom: 5px">
              Bytes in use: {{syncBytesInUse | number}} out of {{syncQuotaBytes | number}} ({{syncBytesInUsePercentage}}%)
            </div>
            <mat-progress-bar mat-line mode="determinate" value="{{syncBytesInUsePercentage}}"></mat-progress-bar>
          </mat-list-item>
          <h3 mat-subheader style="height: 30px">
            Warning: Chrome sync storage has a maximum quota of {{syncQuotaBytes | number}} bytes
          </h3>
        </ng-container>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card style="width: 500px; margin: 0 auto 20px auto">
    <mat-card-header>
      <mat-card-title>Data</mat-card-title>
    </mat-card-header>
    <mat-divider [inset]="true"></mat-divider>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <div style="width: 500px">
            <div style="width: 350px; margin: 0; padding: 0; float: left">
              <div style="">Download your data</div>
              <div style="font-size: 14px; color: grey">Download your saved tabs and windows</div>
            </div>
            <a style="float: right" title="Download Tab Data" [href]="downloadJsonHref | async" download="TabManagerData.txt">
              <button mat-stroked-button color="primary" style="width: 100%">Download</button>
            </a>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card style="width: 500px; margin: 0 auto 20px auto">
    <mat-card-header>
      <mat-card-title>Reset and clean up</mat-card-title>
    </mat-card-header>
    <mat-divider [inset]="true"></mat-divider>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <div style="width: 500px">
            <div style="width: 370px; margin: 0; padding: 0; float: left">
              <div style="">Restore defaults</div>
              <div style="font-size: 14px; color: grey">Reset the state of the application and wipe all saved data</div>
            </div>
            <button mat-stroked-button color="warn" style="float: right" (click)="reset()">Reset</button>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card style="width: 500px; margin: 0 auto 20px auto">
    <mat-card-header>
      <mat-card-title>Developer Options</mat-card-title>
    </mat-card-header>
    <mat-divider [inset]="true"></mat-divider>
    <mat-card-content>
      <mat-list>
        <mat-list-item>
          <mat-slide-toggle
            [checked]="preferences?.enableDebugging"
            [color]="'primary'"
            [labelPosition]="'before'"
            (change)="setEnableDebugging($event)">
            <div style="width: 460px">Enable debug mode</div>
          </mat-slide-toggle>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
