<div
  appMouseOver
  #headerDiv=app-mouse-over
  class="column-header">
  <span style="float: right">
    <button
      mat-icon-button
      title="debug"
      *ngIf="headerDiv.mouseOver && debugModeEnabled()"
      (click)="debug()">
      <mat-icon class="action-icon-24">bug_report</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Clear"
      *ngIf="!sessionListState.layoutState.hidden || headerDiv.mouseOver"
      (click)="clear()">
      <mat-icon class="action-icon-24">clear</mat-icon>
    </button>
    <button
      mat-icon-button
      [title]="sessionListState.layoutState.hidden ? 'Expand' : 'Collapse'"
      (click)="toggleDisplay()">
      <mat-icon class="action-icon-24" *ngIf="!sessionListState.layoutState.hidden">arrow_drop_down</mat-icon>
      <mat-icon class="action-icon-24" *ngIf="sessionListState.layoutState.hidden">arrow_right</mat-icon>
    </button>
  </span>
  <span class="column-title-text">
    {{title}}
  </span>
</div>

<div class="column-scrollable-content">
  <div
    *ngIf="!sessionListState.layoutState.hidden || isWindowListAnimating()"
    [@collapse-list]="animationState"
    (@collapse-list.done)="completeToggleDisplayAnimation($event)">
    <div *ngFor="let layoutState of sessionListState.layoutState.windowStates; index as sessionIndex">
      <app-chrome-window-container
        *ngIf="sessions[sessionIndex].isWindow"
        [chromeAPIWindow]="sessions[sessionIndex].closedWindow.chromeAPIWindow"
        [layoutState]="layoutState"
        [props]="windowProps">
      </app-chrome-window-container>

      <div
        class="chrome-window-container"
        *ngIf="!sessions[sessionIndex].isWindow"
        [@close-window]="sessionAnimationStates[layoutState.windowId]">
        <div
          class="chrome-window-body"
          style="border-style: solid; border-radius: inherit; min-height: 0">
          <app-draggable-chrome-tab
            class="chrome-tab-border"
            *ngFor="let closedTab of sessions[sessionIndex].closedTabs; index as tabIndex"
            [chromeTab]="closedTab.chromeAPITab"
            [timestamp]="closedTab.timestamp"
            (draggableChromeTabClose)="closeTab($event, sessionIndex, tabIndex)"
            (draggableChromeTabClick)="tabClicked(closedTab.chromeAPITab, $event)">
          </app-draggable-chrome-tab>
        </div>
      </div>

    </div>
  </div>
</div>
